$Common = "../../Common.ui";
$SocialBar = "../../Services/SocialBar.ui";
$Settings = "../../Common/Settings/Settings.ui";
$Sounds = "../../Sounds.ui";

@ButtonLabelStyle = LabelStyle(
  FontSize: 25,
  RenderBold: true,
  TextColor: #ffffff,
  RenderUppercase: true,
  FontName: "Default" // FontName: "Secondary", // Changed to "Default" for Russian localization
);

@ButtonStyle = TextButtonStyle(
  Default: (LabelStyle: (...@ButtonLabelStyle, TextColor: #ffffffff), LabelMaskTexturePath: "MenuButtonLabelGradient.png"),
  Disabled: (LabelStyle: (...@ButtonLabelStyle, TextColor: #ffffff(0.5)), LabelMaskTexturePath: "MenuButtonLabelGradient.png"),
  Hovered: (LabelStyle: (...@ButtonLabelStyle, TextColor: #ffffffff), LabelMaskTexturePath: "MenuButtonLabelHoveredGradient.png"),
  Pressed: (LabelStyle: (...@ButtonLabelStyle, TextColor: #bbb9b9), LabelMaskTexturePath: "MenuButtonLabelHoveredGradient.png"),
  Sounds: $Sounds.@ButtonsLight
);

@Button = TextButton {
  @SpacingTop = 10;
  @Sounds = ();
  Style: (
    ...@ButtonStyle,
    Sounds: (
      ...$Sounds.@ButtonsLight,
      ...@Sounds
    )
  );
  Text: @Text;
  Anchor: (Top: @SpacingTop, Bottom: 10, Height: 45);
};

SceneBlur {}

Group {
  Background: #0e1219(0.90);
}

$SocialBar.@Wrapper {}

Group #MenuPanel {
  LayoutMode: Middle;

  Group {
    Anchor: (Width: 600, Left: 125);
    LayoutMode: Top;
    Padding: (Bottom: 100);

    Group #Logo {
      Anchor: (Left: -70, Width: 427, Height: 250, Bottom: 50);
      Background: "../../Common/Logo.png";
    }

    // The outer Group is used to make sure the button uses exactly the length of the text to ensure the label gradient being applied
    // correctly to the length of the text only
    Group {
      LayoutMode: Left;
      Padding: (Right: 10);

      @Button #ReturnToGame { @Text = %client.menuOverlay.buttons.returnToGame + " "; @Sounds = $Sounds.@ButtonsDestructive; }  // the space fixes an artifact with label masks
    }

    Group {
      Background: #a9bed8(0.25);
      Anchor: (Left: 0, Width: 125, Height: 2, Top: 7, Bottom: 17);
    }

    Group {
      LayoutMode: Left;
      @Button #OpenSettings { @Text = %client.menuOverlay.buttons.settings + " "; }  // the space fixes an artifact with label masks
    }


    Group {
      LayoutMode: Left;
      @Button #OpenOnlinePlay { @Text = %client.menuOverlay.buttons.onlinePlay + " "; }  // the space fixes an artifact with label masks
    }

    Group {
      LayoutMode: Left;
      @Button #BackToMainMenu { @Text = %client.menuOverlay.buttons.quitToMainMenu + " "; }  // the space fixes an artifact with label masks
    }

    Group {
      LayoutMode: Left;
      @Button #BackToDesktop { @SpacingTop = 100; @Text = %client.menuOverlay.buttons.quitToDesktop + " "; }  // the space fixes an artifact with label masks
    }
  }
}

Group {
  LayoutMode: Right;
  Anchor: (Height: 140, Bottom: 45, Right: 59);

  Button #BugReportButton {
    Anchor: (Width: 140, Height: 140);
    TooltipText: %client.bugReportButton.tooltip;
    TextTooltipStyle: $Common.@ButtonTextTooltipStyle;
    Style: (
      Default: (Background: (TexturePath: "../../Common/BugReportIcon.png")),
      Hovered: (Background: (TexturePath: "../../Common/BugReportIcon.png", Color: #ffffff(0.8))),
      Pressed: (Background: (TexturePath: "../../Common/BugReportIcon.png", Color: #ffffff(0.6))),
      Sounds: (
        ...$Sounds.@ButtonsLight
      )
    );
  }
}

Panel #SettingsOverlay {
  Background: #0e1219(0.95);

  $Common.@BackButton {}

  Group {
    Anchor: (Top: 110, Bottom: 50);

    Group {
      Label {
        Text: %client.settings.title;
        Anchor: (Top: -66, Height: 53);
        MaskTexturePath: "../../Common/TextGradient.png";
        Style: (
          HorizontalAlignment: Center,
          FontSize: 40,
          LetterSpacing: 1,
          TextColor: #ffffff,
          RenderUppercase: true,
          FontName: "Default", // FontName: "Secondary", // Changed to "Default" for Russian localization
          RenderBold: true
        );
      }

      Group {
        Anchor: (Top:-1, Height: 2, Width: $Settings.@Width);
        Background: #afc8e6(0.20);
      }
    }

    Group #SettingsContainer {}
  }
}
